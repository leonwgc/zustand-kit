(()=>{"use strict";var e={3969:function(e,t,s){var l=s(5893),r=s(7294),n=s(745),a=s(3777),i=s(5736),o=s(2515),c=s(1577),d=s(1843),u=s(6688),h=s(9234),x=s(777),j=s(1621);let m=new Map;function g(e,t,s){let{storage:l="none",storageKey:n="global-state"}=s||{};if(!m.has(e)){let s;let r="object"==typeof t&&null!==t&&!Array.isArray(t),a=e=>({value:t,setValue:t=>{"function"==typeof t?e(e=>({value:t(e.value)})):r&&"object"==typeof t&&null!==t?e(e=>({value:{...e.value,...t}})):e({value:t})},reset:()=>e({value:t})});if("none"!==l){let t="localStorage"===l?localStorage:sessionStorage;s=(0,x.U)()((0,j.tJ)(a,{name:`${n}-${e}`,storage:(0,j.FL)(()=>t)}))}else s=(0,x.U)(a);m.set(e,s)}let a=m.get(e),i=a(e=>e.value);return[i,(0,r.useMemo)(()=>a.getState().setValue,[a]),(0,r.useMemo)(()=>a.getState().reset,[a])]}function p(e,t){let s=m.get(e);s&&s.getState().setValue(t)}let{Title:y,Paragraph:b,Text:f}=a.Z,v=()=>{let[e,t]=g("counter",0);return(0,l.jsx)(i.Z,{title:"Component A - Simple Value",className:"use-global-state-example__card",children:(0,l.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)(f,{children:["Current Count:"," ",(0,l.jsx)(f,{strong:!0,style:{fontSize:20,color:"#1890ff"},children:e})]}),(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(c.ZP,{type:"primary",onClick:()=>t(e+1),children:"Increment"}),(0,l.jsx)(c.ZP,{onClick:()=>t(e-1),children:"Decrement"}),(0,l.jsx)(c.ZP,{onClick:()=>t(0),children:"Reset to 0"})]})]})})},S=()=>{let[e,t]=g("counter",0);return(0,l.jsx)(i.Z,{title:"Component B - Shared State",className:"use-global-state-example__card",children:(0,l.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)(f,{children:["Same Count:"," ",(0,l.jsx)(f,{strong:!0,style:{fontSize:20,color:"#52c41a"},children:e})]}),(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(c.ZP,{type:"primary",onClick:()=>t(e=>e+5),children:"+5"}),(0,l.jsx)(c.ZP,{onClick:()=>t(e=>2*e),children:"\xd72"})]})]})})},C=()=>{let[e,t]=g("user",{name:"John Doe",email:"john@example.com",age:25});return(0,l.jsx)(i.Z,{title:"Component A - User Profile",className:"use-global-state-example__card",children:(0,l.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{strong:!0,children:"Name:"})," ",e.name]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{strong:!0,children:"Email:"})," ",e.email]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{strong:!0,children:"Age:"})," ",e.age]}),(0,l.jsx)(d.Z,{}),(0,l.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(u.Z,{placeholder:"Name",value:e.name,onChange:e=>t({name:e.target.value})}),(0,l.jsx)(u.Z,{placeholder:"Email",value:e.email,onChange:e=>t({email:e.target.value})}),(0,l.jsx)(u.Z,{type:"number",placeholder:"Age",value:e.age,onChange:e=>t({age:Number(e.target.value)})})]})]})})},Z=()=>{let[e,t,s]=g("user",{name:"John Doe",email:"john@example.com",age:25});return(0,l.jsx)(i.Z,{title:"Component B - Display & Actions",className:"use-global-state-example__card",children:(0,l.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)("div",{className:"use-global-state-example__profile",children:[(0,l.jsx)("div",{className:"use-global-state-example__avatar",children:e.name.charAt(0).toUpperCase()}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)(f,{strong:!0,style:{fontSize:18},children:e.name})}),(0,l.jsx)("div",{children:(0,l.jsx)(f,{type:"secondary",children:e.email})}),(0,l.jsx)("div",{children:(0,l.jsxs)(f,{children:["Age: ",e.age]})})]})]}),(0,l.jsx)(d.Z,{}),(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(c.ZP,{type:"primary",onClick:()=>t({age:e.age+1}),children:"Birthday \uD83C\uDF82"}),(0,l.jsx)(c.ZP,{onClick:s,children:"Reset Profile"})]})]})})},_=()=>{let[e,t]=g("cart",{items:[],total:0}),s=s=>{t({items:[...e.items,s],total:e.total+s.price})};return(0,l.jsx)(i.Z,{title:"Product List",className:"use-global-state-example__card",children:(0,l.jsx)(o.Z,{direction:"vertical",style:{width:"100%"},children:[{id:1,name:"Laptop",price:999},{id:2,name:"Mouse",price:29},{id:3,name:"Keyboard",price:79},{id:4,name:"Monitor",price:299}].map(e=>(0,l.jsxs)("div",{className:"use-global-state-example__product",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{strong:!0,children:e.name}),(0,l.jsxs)(f,{type:"secondary",style:{marginLeft:8},children:["$",e.price]})]}),(0,l.jsx)(c.ZP,{size:"small",type:"primary",onClick:()=>s(e),children:"Add to Cart"})]},e.id))})})},D=()=>{let[e,t,s]=g("cart",{items:[],total:0}),r=s=>{let l=[...e.items],r=l.splice(s,1)[0];t({items:l,total:e.total-r.price})};return(0,l.jsx)(i.Z,{title:"Shopping Cart",className:"use-global-state-example__card",children:(0,l.jsx)(o.Z,{direction:"vertical",style:{width:"100%"},children:0===e.items.length?(0,l.jsx)(f,{type:"secondary",children:"Cart is empty"}):(0,l.jsxs)(l.Fragment,{children:[e.items.map((e,t)=>(0,l.jsxs)("div",{className:"use-global-state-example__cart-item",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{children:e.name}),(0,l.jsxs)(f,{type:"secondary",style:{marginLeft:8},children:["$",e.price]})]}),(0,l.jsx)(c.ZP,{size:"small",danger:!0,onClick:()=>r(t),children:"Remove"})]},`${e.id}-${t}`)),(0,l.jsx)(d.Z,{}),(0,l.jsxs)("div",{className:"use-global-state-example__total",children:[(0,l.jsx)(f,{strong:!0,children:"Total:"}),(0,l.jsxs)(f,{strong:!0,style:{fontSize:20,color:"#f5222d"},children:["$",e.total]})]}),(0,l.jsx)(c.ZP,{block:!0,onClick:s,children:"Clear Cart"})]})})})},G=0,k=()=>{G++;let e=function(e,t){let s=m.get(e);if(!s)throw Error(`Global state with key "${e}" not found. Initialize it with useGlobalState first.`);return s(e=>t(e.value))}("user",e=>e.name);return(0,l.jsx)(i.Z,{title:"Component C - Optimized Selector",className:"use-global-state-example__card",children:(0,l.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(h.Z,{count:G,style:{backgroundColor:"#52c41a"},children:(0,l.jsx)(f,{strong:!0,children:"Render Count"})}),(0,l.jsxs)("div",{style:{marginTop:12},children:[(0,l.jsx)(f,{children:"User Name (selector): "}),(0,l.jsx)(f,{strong:!0,style:{fontSize:18,color:"#1890ff"},children:e})]}),(0,l.jsx)(d.Z,{}),(0,l.jsxs)(f,{type:"secondary",style:{fontSize:12},children:['\uD83D\uDCA1 This component only subscribes to the "name" field.',(0,l.jsx)("br",{}),"Try changing email or age in Component A - this won't re-render!"]})]})})},w=0,N=()=>{w++;let e=function(e){let t=m.get(e);if(!t)throw Error(`Global state with key "${e}" not found. Initialize it with useGlobalState first.`);return(0,r.useMemo)(()=>t.getState().setValue,[t])}("counter");return(0,l.jsx)(i.Z,{title:"Component C - Setter Only",className:"use-global-state-example__card",children:(0,l.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(h.Z,{count:w,style:{backgroundColor:"#52c41a"},children:(0,l.jsx)(f,{strong:!0,children:"Render Count"})}),(0,l.jsxs)(o.Z,{style:{marginTop:12},children:[(0,l.jsx)(c.ZP,{type:"primary",onClick:()=>e(e=>e+10),children:"+10"}),(0,l.jsx)(c.ZP,{onClick:()=>e(e=>3*e),children:"\xd73"}),(0,l.jsx)(c.ZP,{danger:!0,onClick:()=>e(0),children:"Reset"})]}),(0,l.jsx)(d.Z,{}),(0,l.jsxs)(f,{type:"secondary",style:{fontSize:12},children:["\uD83D\uDCA1 This component only updates state, doesn't read it.",(0,l.jsx)("br",{}),"Check Component A/B - it won't re-render when count changes!"]})]})})},P=()=>{let[e,t]=g("app-settings",{theme:"light",language:"en",notifications:!0},{storage:"localStorage",storageKey:"demo-app"});return(0,l.jsx)(i.Z,{title:"Persistent Settings (localStorage)",className:"use-global-state-example__card",children:(0,l.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(f,{type:"secondary",style:{fontSize:12},children:"\uD83D\uDD04 These settings persist across page refreshes"}),(0,l.jsx)(d.Z,{}),(0,l.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{strong:!0,children:"Theme: "}),(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(c.ZP,{type:"light"===e.theme?"primary":void 0,onClick:()=>t({theme:"light"}),children:"Light"}),(0,l.jsx)(c.ZP,{type:"dark"===e.theme?"primary":void 0,onClick:()=>t({theme:"dark"}),children:"Dark"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{strong:!0,children:"Language: "}),(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(c.ZP,{type:"en"===e.language?"primary":void 0,onClick:()=>t({language:"en"}),children:"English"}),(0,l.jsx)(c.ZP,{type:"zh"===e.language?"primary":void 0,onClick:()=>t({language:"zh"}),children:"ä¸­æ–‡"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{strong:!0,children:"Notifications: "}),(0,l.jsx)(c.ZP,{type:e.notifications?"primary":void 0,onClick:()=>t({notifications:!e.notifications}),children:e.notifications?"Enabled":"Disabled"})]})]}),(0,l.jsx)(d.Z,{}),(0,l.jsx)(f,{strong:!0,children:"Current Settings:"}),(0,l.jsx)("pre",{style:{background:"#f5f5f5",padding:12,borderRadius:4},children:JSON.stringify(e,null,2)})]})})},z=()=>{let[e,t]=g("session-info",{visitCount:0,lastVisit:new Date().toISOString(),tabId:Math.random().toString(36).substring(7)},{storage:"sessionStorage"});return(0,l.jsx)(i.Z,{title:"Session Data (sessionStorage)",className:"use-global-state-example__card",children:(0,l.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(f,{type:"secondary",style:{fontSize:12},children:"\uD83D\uDD50 This data persists only during the browser session"}),(0,l.jsx)(d.Z,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{strong:!0,children:"Visit Count: "}),(0,l.jsx)(f,{style:{fontSize:18,color:"#1890ff"},children:e.visitCount})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{strong:!0,children:"Tab ID: "}),(0,l.jsx)(f,{code:!0,children:e.tabId})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{strong:!0,children:"Last Visit: "}),(0,l.jsx)(f,{type:"secondary",children:new Date(e.lastVisit).toLocaleString()})]}),(0,l.jsxs)(o.Z,{style:{marginTop:12},children:[(0,l.jsx)(c.ZP,{type:"primary",onClick:()=>t({visitCount:e.visitCount+1,lastVisit:new Date().toISOString()}),children:"Record Visit"}),(0,l.jsx)(c.ZP,{onClick:()=>t({visitCount:0,lastVisit:new Date().toISOString(),tabId:Math.random().toString(36).substring(7)}),children:"Reset Session"})]}),(0,l.jsx)(d.Z,{}),(0,l.jsxs)(f,{type:"secondary",style:{fontSize:12},children:["\uD83D\uDCA1 Try refreshing the page - data persists!",(0,l.jsx)("br",{}),"Close the tab and reopen - data will be reset."]})]})})},O=()=>{let[e]=g("non-react-counter",0),[t,s]=(0,r.useState)([]),n=(0,r.useRef)(null);return(0,r.useEffect)(()=>(n.current=function(e,t){let s=m.get(e);if(!s)return()=>{};let l=s.getState().value;return s.subscribe(e=>{let s=e.value;s!==l&&(t(s,l),l=s)})}("non-react-counter",(e,t)=>{let l=`Counter changed: ${t} â†’ ${e}`;s(e=>[...e,l])}),()=>{var e;null===(e=n.current)||void 0===e||e.call(n)}),[]),(0,l.jsx)(i.Z,{title:"Non-React Usage (Pure JS/TS)",className:"use-global-state-example__card",children:(0,l.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(f,{type:"secondary",style:{fontSize:12},children:"\uD83D\uDD27 Use in utility functions, services, event handlers, timers, etc."}),(0,l.jsx)(d.Z,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{strong:!0,children:"Current Counter: "}),(0,l.jsx)(f,{style:{fontSize:18,color:"#1890ff"},children:e})]}),(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(c.ZP,{type:"primary",onClick:()=>{setTimeout(()=>{p("non-react-counter",(function(e){let t=m.get(e);return null==t?void 0:t.getState().value}("non-react-counter")||0)+1)},100)},children:"Simulate Service Call (+1)"}),(0,l.jsx)(c.ZP,{onClick:()=>{let e=0,t=setInterval(()=>{p("non-react-counter",e=>e+1),++e>=5&&clearInterval(t)},200)},children:"Simulate Rapid Updates (+5)"}),(0,l.jsx)(c.ZP,{danger:!0,onClick:()=>{(function(e){let t=m.get(e);t&&t.getState().reset()})("non-react-counter"),s([])},children:"Reset & Clear Logs"})]}),(0,l.jsx)(d.Z,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{strong:!0,children:"Change Logs:"}),(0,l.jsx)("div",{style:{maxHeight:150,overflowY:"auto",background:"#f5f5f5",padding:8,borderRadius:4,marginTop:8},children:0===t.length?(0,l.jsx)(f,{type:"secondary",children:"No changes yet..."}):t.map((e,t)=>(0,l.jsx)("div",{style:{fontSize:12,fontFamily:"monospace"},children:e},t))})]}),(0,l.jsx)(d.Z,{}),(0,l.jsx)(f,{type:"secondary",style:{fontSize:12},children:"\uD83D\uDCA1 Code example:"}),(0,l.jsx)("pre",{style:{background:"#f5f5f5",padding:12,borderRadius:4,fontSize:12},children:`// In any utility or service file
import { getGlobalState, setGlobalState } from '~/hooks/useGlobalState';

// Get current value
const count = getGlobalState<number>('counter');

// Update value
setGlobalState('counter', count + 1);

// Subscribe to changes
const unsubscribe = subscribeGlobalState('counter', (newVal, prevVal) => {
  console.log('Changed:', prevVal, '->', newVal);
});`})]})})},R=()=>{let[e]=g("non-react-counter",0);return(0,l.jsx)(i.Z,{title:"React Component (Auto Synced)",className:"use-global-state-example__card",children:(0,l.jsxs)(o.Z,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(f,{type:"secondary",style:{fontSize:12},children:"\uD83D\uDD04 This component automatically updates when non-React code modifies the state"}),(0,l.jsx)(d.Z,{}),(0,l.jsx)("div",{style:{textAlign:"center",padding:"20px 0"},children:(0,l.jsx)(f,{style:{fontSize:48,fontWeight:"bold",color:"#1890ff"},children:e})}),(0,l.jsx)(f,{type:"secondary",style:{textAlign:"center"},children:"Counter value synchronized from non-React code"})]})})};n.createRoot(document.getElementById("root")).render((0,l.jsx)(()=>{let[e,t]=(0,r.useState)(!1);return(0,l.jsxs)("div",{className:"use-global-state-example",children:[(0,l.jsx)(y,{level:2,children:"åŸºäº Zustand çš„å…¨å±€çŠ¶æ€å…±äº«"}),(0,l.jsx)(y,{level:3,children:"1. Simple Value - useGlobalState"}),(0,l.jsxs)(b,{children:[(0,l.jsx)(f,{code:!0,children:"const [count, setCount, resetCount] = useGlobalState('counter', 0)"})," ","- é€‚ç”¨äºç®€å•å€¼ç±»å‹"]}),(0,l.jsxs)("div",{className:"use-global-state-example__row",children:[(0,l.jsx)(v,{}),(0,l.jsx)(S,{}),e&&(0,l.jsx)(N,{})]}),(0,l.jsx)(d.Z,{style:{margin:"32px 0"}}),(0,l.jsx)(y,{level:3,children:"2. Object State - useGlobalState"}),(0,l.jsxs)(b,{children:[(0,l.jsxs)(f,{code:!0,children:["const [user, setUser, resetUser] = useGlobalState('user', ","{ }",")"]})," ","- æ”¯æŒå¯¹è±¡ç±»å‹å’Œéƒ¨åˆ†æ›´æ–°"]}),(0,l.jsxs)("div",{className:"use-global-state-example__row",children:[(0,l.jsx)(C,{}),(0,l.jsx)(Z,{}),e&&(0,l.jsx)(k,{})]}),(0,l.jsx)(d.Z,{style:{margin:"32px 0"}}),(0,l.jsx)(y,{level:3,children:"3. Performance Optimization"}),(0,l.jsxs)(b,{children:[(0,l.jsx)(f,{strong:!0,children:"ä¼˜åŒ–é‡æ¸²æŸ“ï¼š"}),"ä½¿ç”¨ ",(0,l.jsx)(f,{code:!0,children:"useGlobalSelector"})," ","å’Œ ",(0,l.jsx)(f,{code:!0,children:"useGlobalSetter"})," å‡å°‘ä¸å¿…è¦çš„ç»„ä»¶é‡æ¸²æŸ“"]}),(0,l.jsxs)(o.Z,{style:{marginBottom:16},children:[(0,l.jsxs)(c.ZP,{type:"primary",onClick:()=>{G=0,w=0,t(!e)},children:[e?"Hide":"Show"," Optimized Components"]}),e&&(0,l.jsx)(f,{type:"secondary",children:"è§‚å¯Ÿ Render Count - ä¼˜åŒ–ç»„ä»¶ä¸ä¼šå› ä¸ºæ— å…³çŠ¶æ€å˜åŒ–è€Œé‡æ¸²æŸ“"})]}),(0,l.jsx)(d.Z,{style:{margin:"32px 0"}}),(0,l.jsx)(y,{level:3,children:"4. Persistent State - localStorage & sessionStorage"}),(0,l.jsxs)(b,{children:[(0,l.jsx)(f,{strong:!0,children:"æ•°æ®æŒä¹…åŒ–ï¼š"}),"ä½¿ç”¨ ",(0,l.jsx)(f,{code:!0,children:"storage"})," ","é€‰é¡¹å®ç°è·¨é¡µé¢åˆ·æ–°çš„çŠ¶æ€ä¿å­˜"]}),(0,l.jsxs)("div",{className:"use-global-state-example__row",children:[(0,l.jsx)(P,{}),(0,l.jsx)(z,{})]}),(0,l.jsx)(d.Z,{style:{margin:"32px 0"}}),(0,l.jsx)(y,{level:3,children:"5. Shopping Cart Example"}),(0,l.jsx)(b,{children:"å®é™…åœºæ™¯ç¤ºä¾‹ï¼šè´­ç‰©è½¦çŠ¶æ€åœ¨å•†å“åˆ—è¡¨å’Œè´­ç‰©è½¦ç»„ä»¶é—´å…±äº«"}),(0,l.jsxs)("div",{className:"use-global-state-example__row",children:[(0,l.jsx)(_,{}),(0,l.jsx)(D,{})]}),(0,l.jsx)(d.Z,{style:{margin:"32px 0"}}),(0,l.jsx)(y,{level:3,children:"6. Non-React Usage - Pure JavaScript/TypeScript"}),(0,l.jsxs)(b,{children:[(0,l.jsx)(f,{strong:!0,children:"åœ¨é React ä»£ç ä¸­ä½¿ç”¨ï¼š"}),"å·¥å…·å‡½æ•°ã€æœåŠ¡ç±»ã€äº‹ä»¶ç›‘å¬å™¨ã€å®šæ—¶å™¨ç­‰åœºæ™¯"]}),(0,l.jsxs)("div",{className:"use-global-state-example__row",children:[(0,l.jsx)(O,{}),(0,l.jsx)(R,{})]}),(0,l.jsx)(d.Z,{style:{margin:"32px 0"}}),(0,l.jsxs)(i.Z,{title:"API Reference",className:"use-global-state-example__card",children:[(0,l.jsx)(y,{level:5,children:"1. useGlobalState - åŸºç¡€ Hook"}),(0,l.jsx)(b,{children:(0,l.jsx)("pre",{className:"use-global-state-example__code",children:`import { useGlobalState } from '~/hooks/useGlobalState';

// ç®€å•å€¼ç±»å‹ (number, string, boolean)
const [count, setCount, resetCount] = useGlobalState('counter', 0);
setCount(5);                    // ç›´æ¥èµ‹å€¼
setCount(prev => prev + 1);     // å‡½æ•°å¼æ›´æ–°

// å¯¹è±¡ç±»å‹ - æ”¯æŒéƒ¨åˆ†æ›´æ–°
const [user, setUser, resetUser] = useGlobalState('user', {
  name: 'John',
  email: 'john@example.com',
  age: 25,
});
setUser({ name: 'Jane' });      // éƒ¨åˆ†æ›´æ–°ï¼ˆè‡ªåŠ¨åˆå¹¶ï¼‰
setUser(prev => ({ ...prev, age: 26 })); // å‡½æ•°å¼æ›´æ–°`})}),(0,l.jsx)(y,{level:5,children:"2. useGlobalSelector - ç»†ç²’åº¦è®¢é˜…ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰"}),(0,l.jsx)(b,{children:(0,l.jsx)("pre",{className:"use-global-state-example__code",children:`import { useGlobalSelector } from '~/hooks/useGlobalState';

// åªè®¢é˜…ç‰¹å®šå­—æ®µï¼Œå…¶ä»–å­—æ®µå˜åŒ–ä¸ä¼šè§¦å‘é‡æ¸²æŸ“
const userName = useGlobalSelector('user', state => state.name);

// è®¢é˜…å¤šä¸ªå­—æ®µ
const userInfo = useGlobalSelector('user', state => ({
  name: state.name,
  email: state.email
}));

// âš¡ æ€§èƒ½ä¼˜åŠ¿ï¼šåªæœ‰ name å˜åŒ–æ—¶æ‰é‡æ¸²æŸ“
// ä¿®æ”¹ age æˆ– email å­—æ®µä¸ä¼šå½±å“æ­¤ç»„ä»¶`})}),(0,l.jsx)(y,{level:5,children:"3. useGlobalSetter - åªå†™æ¨¡å¼ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰"}),(0,l.jsx)(b,{children:(0,l.jsx)("pre",{className:"use-global-state-example__code",children:`import { useGlobalSetter } from '~/hooks/useGlobalState';

// åªè·å– setterï¼Œä¸è®¢é˜…çŠ¶æ€å˜åŒ–
const setCount = useGlobalSetter<number>('counter');
const setUser = useGlobalSetter<UserType>('user');

setCount(5);
setCount(prev => prev + 1);
setUser({ name: 'Jane' });

// âš¡ æ€§èƒ½ä¼˜åŠ¿ï¼šçŠ¶æ€å˜åŒ–ä¸ä¼šå¯¼è‡´æ­¤ç»„ä»¶é‡æ¸²æŸ“
// é€‚ç”¨äºåªéœ€è¦æ›´æ–°çŠ¶æ€çš„åœºæ™¯ï¼ˆå¦‚å·¥å…·æ æŒ‰é’®ï¼‰`})}),(0,l.jsx)(y,{level:5,children:"4. Persistence - localStorage / sessionStorage"}),(0,l.jsx)(b,{children:(0,l.jsx)("pre",{className:"use-global-state-example__code",children:`import { useGlobalState } from '~/hooks/useGlobalState';

// localStorage - æŒä¹…åŒ–å­˜å‚¨ï¼Œè·¨æµè§ˆå™¨ä¼šè¯
const [settings, setSettings] = useGlobalState(
  'settings',
  { theme: 'dark', lang: 'en' },
  { storage: 'localStorage', storageKey: 'my-app' }
);

// sessionStorage - ä¼šè¯å­˜å‚¨ï¼Œä»…åœ¨å½“å‰æ ‡ç­¾é¡µæœ‰æ•ˆ
const [tempData, setTempData] = useGlobalState(
  'temp',
  { count: 0 },
  { storage: 'sessionStorage' }
);

// æ— æŒä¹…åŒ–ï¼ˆé»˜è®¤ï¼‰
const [volatileData] = useGlobalState('volatile', { data: [] });

// ğŸ’¾ localStorage: å…³é—­æµè§ˆå™¨åæ•°æ®ä»å­˜åœ¨
// ğŸ• sessionStorage: å…³é—­æ ‡ç­¾é¡µåæ•°æ®æ¸…é™¤
// âš¡ none: é¡µé¢åˆ·æ–°åæ•°æ®é‡ç½®`})}),(0,l.jsx)(y,{level:5,children:"5. Non-React Usage - çº¯ JS/TS ä»£ç ä¸­ä½¿ç”¨"}),(0,l.jsx)(b,{children:(0,l.jsx)("pre",{className:"use-global-state-example__code",children:`import {
  getGlobalState,
  setGlobalState,
  subscribeGlobalState,
  resetGlobalState
} from '~/hooks/useGlobalState';

// 1. è·å–çŠ¶æ€å€¼
const count = getGlobalState<number>('counter');
const user = getGlobalState<UserType>('user');

// 2. è®¾ç½®çŠ¶æ€å€¼
setGlobalState('counter', 5);
setGlobalState('counter', prev => prev + 1);
setGlobalState('user', { name: 'Jane' }); // å¯¹è±¡éƒ¨åˆ†æ›´æ–°

// 3. è®¢é˜…çŠ¶æ€å˜åŒ–
const unsubscribe = subscribeGlobalState<number>(
  'counter',
  (newValue, prevValue) => {
    console.log(\`Changed from \${prevValue} to \${newValue}\`);
  }
);
// å–æ¶ˆè®¢é˜…
unsubscribe();

// 4. é‡ç½®çŠ¶æ€
resetGlobalState('counter');

// ä½¿ç”¨åœºæ™¯ï¼š
// - å·¥å…·å‡½æ•°ã€æœåŠ¡ç±»
// - äº‹ä»¶ç›‘å¬å™¨ã€WebSocket å›è°ƒ
// - å®šæ—¶å™¨ä»»åŠ¡
// - ç¬¬ä¸‰æ–¹åº“é›†æˆ`})}),(0,l.jsx)(y,{level:5,children:"æ€§èƒ½å¯¹æ¯”:"}),(0,l.jsx)(b,{children:(0,l.jsx)("pre",{className:"use-global-state-example__code",children:`// âŒ ä¼ ç»Ÿæ–¹å¼ - æ¯æ¬¡çŠ¶æ€å˜åŒ–éƒ½ä¼šé‡æ¸²æŸ“
const [user, setUser] = useGlobalState('user', initialUser);
// ä¿®æ”¹ä»»ä½•å­—æ®µï¼ˆname/email/ageï¼‰éƒ½ä¼šè§¦å‘é‡æ¸²æŸ“

// âœ… ä¼˜åŒ–æ–¹å¼ 1 - åªè®¢é˜…éœ€è¦çš„å­—æ®µ
const userName = useGlobalSelector('user', s => s.name);
// åªæœ‰ name å˜åŒ–æ‰é‡æ¸²æŸ“ï¼Œemail/age å˜åŒ–ä¸å½±å“

// âœ… ä¼˜åŒ–æ–¹å¼ 2 - åªéœ€è¦ä¿®æ”¹ï¼Œä¸éœ€è¦è¯»å–
const setUser = useGlobalSetter('user');
// æ°¸è¿œä¸ä¼šå› ä¸ºçŠ¶æ€å˜åŒ–è€Œé‡æ¸²æŸ“`})}),(0,l.jsx)(y,{level:5,children:"ç‰¹æ€§:"}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:["\uD83C\uDFAF ",(0,l.jsx)(f,{strong:!0,children:"ç»Ÿä¸€ API"})," - è‡ªåŠ¨è¯†åˆ«ç±»å‹ï¼Œå¯¹è±¡æ”¯æŒéƒ¨åˆ†æ›´æ–°"]}),(0,l.jsxs)("li",{children:["âš¡ ",(0,l.jsx)(f,{strong:!0,children:"æ€§èƒ½ä¼˜åŒ–"})," - ç»†ç²’åº¦è®¢é˜…ï¼ˆuseGlobalSelectorï¼‰ã€åªå†™æ¨¡å¼ï¼ˆuseGlobalSetterï¼‰"]}),(0,l.jsxs)("li",{children:["\uD83D\uDCBE ",(0,l.jsx)(f,{strong:!0,children:"æ•°æ®æŒä¹…åŒ–"})," - æ”¯æŒ localStorage / sessionStorage"]}),(0,l.jsxs)("li",{children:["\uD83D\uDD27 ",(0,l.jsx)(f,{strong:!0,children:"é React æ”¯æŒ"})," - å¯åœ¨å·¥å…·å‡½æ•°ã€æœåŠ¡ç±»ã€äº‹ä»¶ç›‘å¬å™¨ä¸­ä½¿ç”¨"]}),(0,l.jsxs)("li",{children:["âœ¨ ",(0,l.jsx)(f,{strong:!0,children:"é›¶é…ç½®"})," - æ— éœ€ Providerã€è‡ªåŠ¨è·¨ç»„ä»¶åŒæ­¥ã€æŒ‰ key éš”ç¦»"]}),(0,l.jsxs)("li",{children:["\uD83D\uDEE1ï¸ ",(0,l.jsx)(f,{strong:!0,children:"ç±»å‹å®‰å…¨"})," - å®Œæ•´ TypeScript æ”¯æŒã€å‡½æ•°å¼æ›´æ–°"]}),(0,l.jsxs)("li",{children:["\uD83D\uDE80 ",(0,l.jsx)(f,{strong:!0,children:"è½»é‡é«˜æ•ˆ"})," - åŸºäº Zustandã€å†…ç½®æ€§èƒ½ä¼˜åŒ–"]})]})]})]})},{}))}},t={};function s(l){var r=t[l];if(void 0!==r)return r.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,s),n.exports}s.m=e,s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};s.t=function(l,r){if(1&r&&(l=this(l)),8&r||"object"==typeof l&&l&&(4&r&&l.__esModule||16&r&&"function"==typeof l.then))return l;var n=Object.create(null);s.r(n);var a={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&l;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(function(e){a[e]=function(){return l[e]}});return a.default=function(){return l},s.d(n,a),n}})(),s.d=function(e,t){for(var l in t)s.o(t,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];s.O=function(t,l,r,n){if(l){n=n||0;for(var a=e.length;a>0&&e[a-1][2]>n;a--)e[a]=e[a-1];e[a]=[l,r,n];return}for(var i=1/0,a=0;a<e.length;a++){for(var l=e[a][0],r=e[a][1],n=e[a][2],o=!0,c=0;c<l.length;c++)(!1&n||i>=n)&&Object.keys(s.O).every(function(e){return s.O[e](l[c])})?l.splice(c--,1):(o=!1,n<i&&(i=n));if(o){e.splice(a--,1);var d=r();void 0!==d&&(t=d)}}return t}})(),s.rv=function(){return"1.2.2"},(()=>{var e={980:0};s.O.j=function(t){return 0===e[t]};var t=function(t,l){var r,n,a=l[0],i=l[1],o=l[2],c=0;if(a.some(function(t){return 0!==e[t]})){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(o)var d=o(s)}for(t&&t(l);c<a.length;c++)n=a[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},l=self.webpackChunkzustand_x=self.webpackChunkzustand_x||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})(),s.ruid="bundler=rspack@1.2.2";var l=s.O(void 0,["361","828"],function(){return s(3969)});l=s.O(l)})();