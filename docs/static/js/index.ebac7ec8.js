(()=>{"use strict";var e,t,s,l,n,r,i={7926(e,t,s){var l=s(4848),n=s(6540),r=s(5338),i=s(200),a=s(3733),o=s(3133),c=s(400),d=s(1500),u=s(7178),h=s(1598),x=s(7131),j=s(4651),g=s(7134),m=s(5829);let p=new Map,y=null;function f(e,t){if(y){let s=y.getState();y.setState({...s,[e]:t})}}function v(e,t,s){let{storage:l="none",storageKey:r="global-state",enableDevtools:i=!1}=s||{};if(!p.has(e)){let s,n="object"==typeof t&&null!==t&&!Array.isArray(t),a=(s,l)=>({value:t,setValue:t=>{"function"==typeof t?s(s=>{let l=t(s.value);return i&&f(e,l),{value:l}}):n&&"object"==typeof t&&null!==t?s(s=>{let l={...s.value,...t};return i&&f(e,l),{value:l}}):(s({value:t}),i&&f(e,t))},reset:()=>{s({value:t}),i&&f(e,t)}});if("none"!==l){let t="localStorage"===l?localStorage:sessionStorage;s=(0,j.v)()((0,g.Zr)(a,{name:`${r}-${e}`,storage:(0,g.KU)(()=>t)}))}else s=(0,j.v)(a);p.set(e,s),i&&(y||(y=(0,j.v)()((0,g.lt)(()=>({}),{name:"GlobalStates (All)"}))),f(e,t))}let a=p.get(e);return[a(e=>e.value),(0,n.useMemo)(()=>e=>a.getState().setValue(e),[a]),(0,n.useMemo)(()=>()=>a.getState().reset(),[a])]}function b(e,t,s){let l=p.get(e);if(!l)throw Error(`Global state with key "${e}" not found. Initialize it with useGlobalState first.`);let r=(0,n.useRef)(t);(0,n.useEffect)(()=>{r.current=t});let i=(0,n.useCallback)(e=>r.current(e.value),[]);if(void 0===s){let e=i(l.getState());return l(null===e||"object"!=typeof e||n.isValidElement(e)?i:(0,m.k)(i))}return l("shallow"===s?(0,m.k)(i):i)}function S(e,t){let s=p.get(e);s&&s.getState().setValue(t)}let{Title:A,Paragraph:C,Text:k}=i.A,_=()=>{let[e,t]=v("counter",0);return(0,l.jsx)(a.A,{title:"Component A - Simple Value",className:"use-global-state-example__card",children:(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)(k,{children:["Current Count:"," ",(0,l.jsx)(k,{strong:!0,style:{fontSize:20,color:"#1890ff"},children:e})]}),(0,l.jsxs)(o.A,{children:[(0,l.jsx)(c.Ay,{type:"primary",onClick:()=>t(e+1),children:"Increment"}),(0,l.jsx)(c.Ay,{onClick:()=>t(e-1),children:"Decrement"}),(0,l.jsx)(c.Ay,{onClick:()=>t(0),children:"Reset to 0"})]})]})})},w=()=>{let[e,t]=v("counter",0);return(0,l.jsx)(a.A,{title:"Component B - Shared State",className:"use-global-state-example__card",children:(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)(k,{children:["Same Count:"," ",(0,l.jsx)(k,{strong:!0,style:{fontSize:20,color:"#52c41a"},children:e})]}),(0,l.jsxs)(o.A,{children:[(0,l.jsx)(c.Ay,{type:"primary",onClick:()=>t(e=>e+5),children:"+5"}),(0,l.jsx)(c.Ay,{onClick:()=>t(e=>2*e),children:"\xd72"})]})]})})},z=()=>{let[e,t]=v("user",{name:"John Doe",email:"john@example.com",age:25});return(0,l.jsx)(a.A,{title:"Component A - User Profile",className:"use-global-state-example__card",children:(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Name:"})," ",e.name]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Email:"})," ",e.email]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Age:"})," ",e.age]}),(0,l.jsx)(d.A,{}),(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(u.A,{placeholder:"Name",value:e.name,onChange:e=>t({name:e.target.value})}),(0,l.jsx)(u.A,{placeholder:"Email",value:e.email,onChange:e=>t({email:e.target.value})}),(0,l.jsx)(u.A,{type:"number",placeholder:"Age",value:e.age,onChange:e=>t({age:Number(e.target.value)})})]})]})})},T=()=>{let[e,t,s]=v("user",{name:"John Doe",email:"john@example.com",age:25});return(0,l.jsx)(a.A,{title:"Component B - Display & Actions",className:"use-global-state-example__card",children:(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)("div",{className:"use-global-state-example__profile",children:[(0,l.jsx)("div",{className:"use-global-state-example__avatar",children:e.name.charAt(0).toUpperCase()}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)(k,{strong:!0,style:{fontSize:18},children:e.name})}),(0,l.jsx)("div",{children:(0,l.jsx)(k,{type:"secondary",children:e.email})}),(0,l.jsx)("div",{children:(0,l.jsxs)(k,{children:["Age: ",e.age]})})]})]}),(0,l.jsx)(d.A,{}),(0,l.jsxs)(o.A,{children:[(0,l.jsx)(c.Ay,{type:"primary",onClick:()=>t({age:e.age+1}),children:"Birthday \uD83C\uDF82"}),(0,l.jsx)(c.Ay,{onClick:s,children:"Reset Profile"})]})]})})},N=()=>{let[e,t]=v("cart",{items:[],total:0});return(0,l.jsx)(a.A,{title:"Product List",className:"use-global-state-example__card",children:(0,l.jsx)(o.A,{direction:"vertical",style:{width:"100%"},children:[{id:1,name:"Laptop",price:999},{id:2,name:"Mouse",price:29},{id:3,name:"Keyboard",price:79},{id:4,name:"Monitor",price:299}].map(s=>(0,l.jsxs)("div",{className:"use-global-state-example__product",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:s.name}),(0,l.jsxs)(k,{type:"secondary",style:{marginLeft:8},children:["$",s.price]})]}),(0,l.jsx)(c.Ay,{size:"small",type:"primary",onClick:()=>{t({items:[...e.items,s],total:e.total+s.price})},children:"Add to Cart"})]},s.id))})})},D=()=>{let[e,t,s]=v("cart",{items:[],total:0});return(0,l.jsx)(a.A,{title:"Shopping Cart",className:"use-global-state-example__card",children:(0,l.jsx)(o.A,{direction:"vertical",style:{width:"100%"},children:0===e.items.length?(0,l.jsx)(k,{type:"secondary",children:"Cart is empty"}):(0,l.jsxs)(l.Fragment,{children:[e.items.map((s,n)=>(0,l.jsxs)("div",{className:"use-global-state-example__cart-item",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{children:s.name}),(0,l.jsxs)(k,{type:"secondary",style:{marginLeft:8},children:["$",s.price]})]}),(0,l.jsx)(c.Ay,{size:"small",danger:!0,onClick:()=>{let s,l;return l=(s=[...e.items]).splice(n,1)[0],void t({items:s,total:e.total-l.price})},children:"Remove"})]},`${s.id}-${n}`)),(0,l.jsx)(d.A,{}),(0,l.jsxs)("div",{className:"use-global-state-example__total",children:[(0,l.jsx)(k,{strong:!0,children:"Total:"}),(0,l.jsxs)(k,{strong:!0,style:{fontSize:20,color:"#f5222d"},children:["$",e.total]})]}),(0,l.jsx)(c.Ay,{block:!0,onClick:s,children:"Clear Cart"})]})})})},R=0,G=()=>{R++;let e=b("user",e=>e.name);return(0,l.jsx)(a.A,{title:"Component C - Optimized Selector",className:"use-global-state-example__card",children:(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(h.A,{count:R,style:{backgroundColor:"#52c41a"},children:(0,l.jsx)(k,{strong:!0,children:"Render Count"})}),(0,l.jsxs)("div",{style:{marginTop:12},children:[(0,l.jsx)(k,{children:"User Name (selector): "}),(0,l.jsx)(k,{strong:!0,style:{fontSize:18,color:"#1890ff"},children:e})]}),(0,l.jsx)(d.A,{}),(0,l.jsxs)(k,{type:"secondary",style:{fontSize:12},children:['\uD83D\uDCA1 This component only subscribes to the "name" field.',(0,l.jsx)("br",{}),"Try changing email or age in Component A - this won't re-render!"]})]})})},O=0,I=()=>{O++;let e=function(e){let t=p.get(e);if(!t)throw Error(`Global state with key "${e}" not found. Initialize it with useGlobalState first.`);return(0,n.useMemo)(()=>e=>t.getState().setValue(e),[t])}("counter");return(0,l.jsx)(a.A,{title:"Component C - Setter Only",className:"use-global-state-example__card",children:(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(h.A,{count:O,style:{backgroundColor:"#52c41a"},children:(0,l.jsx)(k,{strong:!0,children:"Render Count"})}),(0,l.jsxs)(o.A,{style:{marginTop:12},children:[(0,l.jsx)(c.Ay,{type:"primary",onClick:()=>e(e=>e+10),children:"+10"}),(0,l.jsx)(c.Ay,{onClick:()=>e(e=>3*e),children:"\xd73"}),(0,l.jsx)(c.Ay,{danger:!0,onClick:()=>e(0),children:"Reset"})]}),(0,l.jsx)(d.A,{}),(0,l.jsxs)(k,{type:"secondary",style:{fontSize:12},children:["\uD83D\uDCA1 This component only updates state, doesn't read it.",(0,l.jsx)("br",{}),"Check Component A/B - it won't re-render when count changes!"]})]})})},V=()=>{let[e,t]=v("app-settings",{theme:"light",language:"en",notifications:!0},{storage:"localStorage",storageKey:"demo-app"});return(0,l.jsx)(a.A,{title:"Persistent Settings (localStorage)",className:"use-global-state-example__card",children:(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(k,{type:"secondary",style:{fontSize:12},children:"\uD83D\uDD04 These settings persist across page refreshes"}),(0,l.jsx)(d.A,{}),(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Theme: "}),(0,l.jsxs)(o.A,{children:[(0,l.jsx)(c.Ay,{type:"light"===e.theme?"primary":void 0,onClick:()=>t({theme:"light"}),children:"Light"}),(0,l.jsx)(c.Ay,{type:"dark"===e.theme?"primary":void 0,onClick:()=>t({theme:"dark"}),children:"Dark"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Language: "}),(0,l.jsxs)(o.A,{children:[(0,l.jsx)(c.Ay,{type:"en"===e.language?"primary":void 0,onClick:()=>t({language:"en"}),children:"English"}),(0,l.jsx)(c.Ay,{type:"zh"===e.language?"primary":void 0,onClick:()=>t({language:"zh"}),children:"中文"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Notifications: "}),(0,l.jsx)(c.Ay,{type:e.notifications?"primary":void 0,onClick:()=>t({notifications:!e.notifications}),children:e.notifications?"Enabled":"Disabled"})]})]}),(0,l.jsx)(d.A,{}),(0,l.jsx)(k,{strong:!0,children:"Current Settings:"}),(0,l.jsx)("pre",{style:{background:"#f5f5f5",padding:12,borderRadius:4},children:JSON.stringify(e,null,2)})]})})},P=()=>{let[e,t]=v("session-info",{visitCount:0,lastVisit:new Date().toISOString(),tabId:Math.random().toString(36).substring(7)},{storage:"sessionStorage"});return(0,l.jsx)(a.A,{title:"Session Data (sessionStorage)",className:"use-global-state-example__card",children:(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(k,{type:"secondary",style:{fontSize:12},children:"\uD83D\uDD50 This data persists only during the browser session"}),(0,l.jsx)(d.A,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Visit Count: "}),(0,l.jsx)(k,{style:{fontSize:18,color:"#1890ff"},children:e.visitCount})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Tab ID: "}),(0,l.jsx)(k,{code:!0,children:e.tabId})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Last Visit: "}),(0,l.jsx)(k,{type:"secondary",children:new Date(e.lastVisit).toLocaleString()})]}),(0,l.jsxs)(o.A,{style:{marginTop:12},children:[(0,l.jsx)(c.Ay,{type:"primary",onClick:()=>t({visitCount:e.visitCount+1,lastVisit:new Date().toISOString()}),children:"Record Visit"}),(0,l.jsx)(c.Ay,{onClick:()=>t({visitCount:0,lastVisit:new Date().toISOString(),tabId:Math.random().toString(36).substring(7)}),children:"Reset Session"})]}),(0,l.jsx)(d.A,{}),(0,l.jsxs)(k,{type:"secondary",style:{fontSize:12},children:["\uD83D\uDCA1 Try refreshing the page - data persists!",(0,l.jsx)("br",{}),"Close the tab and reopen - data will be reset."]})]})})},U=()=>{let[e]=v("non-react-counter",0),[t,s]=(0,n.useState)([]),r=(0,n.useRef)(null);return(0,n.useEffect)(()=>(r.current=function(e,t){let s=p.get(e);if(!s)return()=>{};let l=s.getState().value;return s.subscribe(e=>{let s=e.value;Object.is(s,l)||(t(s,l),l=s)})}("non-react-counter",(e,t)=>{let l=`Counter changed: ${t} → ${e}`;s(e=>[...e,l])}),()=>{var e;null==(e=r.current)||e.call(r)}),[]),(0,l.jsx)(a.A,{title:"Non-React Usage (Pure JS/TS)",className:"use-global-state-example__card",children:(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(k,{type:"secondary",style:{fontSize:12},children:"\uD83D\uDD27 Use in utility functions, services, event handlers, timers, etc."}),(0,l.jsx)(d.A,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Current Counter: "}),(0,l.jsx)(k,{style:{fontSize:18,color:"#1890ff"},children:e})]}),(0,l.jsxs)(o.A,{children:[(0,l.jsx)(c.Ay,{type:"primary",onClick:()=>{setTimeout(()=>{let e;S("non-react-counter",((null==(e=p.get("non-react-counter"))?void 0:e.getState().value)||0)+1)},100)},children:"Simulate Service Call (+1)"}),(0,l.jsx)(c.Ay,{onClick:()=>{let e=0,t=setInterval(()=>{S("non-react-counter",e=>e+1),++e>=5&&clearInterval(t)},200)},children:"Simulate Rapid Updates (+5)"}),(0,l.jsx)(c.Ay,{danger:!0,onClick:()=>{let e;(e=p.get("non-react-counter"))&&e.getState().reset(),s([])},children:"Reset & Clear Logs"})]}),(0,l.jsx)(d.A,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Change Logs:"}),(0,l.jsx)("div",{style:{maxHeight:150,overflowY:"auto",background:"#f5f5f5",padding:8,borderRadius:4,marginTop:8},children:0===t.length?(0,l.jsx)(k,{type:"secondary",children:"No changes yet..."}):t.map((e,t)=>(0,l.jsx)("div",{style:{fontSize:12,fontFamily:"monospace"},children:e},t))})]}),(0,l.jsx)(d.A,{}),(0,l.jsx)(k,{type:"secondary",style:{fontSize:12},children:"\uD83D\uDCA1 Code example:"}),(0,l.jsx)("pre",{style:{background:"#f5f5f5",padding:12,borderRadius:4,fontSize:12},children:`// In any utility or service file
import { getGlobalState, setGlobalState } from 'zustand-kit';

// Get current value
const count = getGlobalState<number>('counter');

// Update value
setGlobalState('counter', count + 1);

// Subscribe to changes
const unsubscribe = subscribeGlobalState('counter', (newVal, prevVal) => {
  console.log('Changed:', prevVal, '->', newVal);
});`})]})})},E=()=>{let[e]=v("non-react-counter",0);return(0,l.jsx)(a.A,{title:"React Component (Auto Synced)",className:"use-global-state-example__card",children:(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(k,{type:"secondary",style:{fontSize:12},children:"\uD83D\uDD04 This component automatically updates when non-React code modifies the state"}),(0,l.jsx)(d.A,{}),(0,l.jsx)("div",{style:{textAlign:"center",padding:"20px 0"},children:(0,l.jsx)(k,{style:{fontSize:48,fontWeight:"bold",color:"#1890ff"},children:e})}),(0,l.jsx)(k,{type:"secondary",style:{textAlign:"center"},children:"Counter value synchronized from non-React code"})]})})},M=0,L=()=>{M++;let e=b("user",e=>({name:e.name,email:e.email}));return(0,l.jsx)(a.A,{title:"Component D",className:"use-global-state-example__card",children:(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsx)(h.A,{count:M,style:{backgroundColor:"#722ed1"},children:(0,l.jsx)(k,{strong:!0,children:"Render Count"})}),(0,l.jsxs)("div",{style:{marginTop:12},children:[(0,l.jsx)(k,{strong:!0,children:"Name: "}),(0,l.jsx)(k,{style:{fontSize:16,color:"#1890ff"},children:e.name})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Email: "}),(0,l.jsx)(k,{style:{fontSize:16,color:"#52c41a"},children:e.email})]}),(0,l.jsx)(d.A,{}),(0,l.jsxs)(k,{type:"secondary",style:{fontSize:12},children:["\uD83D\uDCA1 Uses built-in shallow comparison (useShallow)",(0,l.jsx)("br",{}),"Try changing age in Component A - this won't re-render!",(0,l.jsx)("br",{}),"Only re-renders when name or email changes."]})]})})},$=()=>{let[e,t]=v("debug-data",{counter:0,clicks:[],lastAction:"none"},{enableDevtools:!0});return(0,l.jsx)(a.A,{title:"Redux DevTools Integration",className:"use-global-state-example__card",children:(0,l.jsxs)(o.A,{direction:"vertical",style:{width:"100%"},children:[(0,l.jsxs)(k,{type:"secondary",style:{fontSize:12},children:["\uD83D\uDD0D Open Redux DevTools to see state changes in real-time",(0,l.jsx)("br",{}),"State name: ",(0,l.jsx)(k,{code:!0,children:"GlobalState:debug-data"})]}),(0,l.jsx)(d.A,{}),(0,l.jsx)("div",{style:{textAlign:"center",padding:"20px 0"},children:(0,l.jsx)(k,{style:{fontSize:48,fontWeight:"bold",color:"#722ed1"},children:e.counter})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Last Action: "}),(0,l.jsx)(k,{type:"reset"===e.lastAction?"danger":void 0,children:e.lastAction})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(k,{strong:!0,children:"Click History: "}),(0,l.jsxs)(k,{type:"secondary",children:[e.clicks.length," clicks"]})]}),(0,l.jsxs)(o.A,{style:{marginTop:12},children:[(0,l.jsx)(c.Ay,{type:"primary",onClick:()=>{t({counter:e.counter+1,clicks:[...e.clicks,Date.now()],lastAction:"increment"})},children:"Increment"}),(0,l.jsx)(c.Ay,{danger:!0,onClick:()=>{t({counter:0,clicks:[],lastAction:"reset"})},children:"Reset"})]}),(0,l.jsx)(d.A,{}),(0,l.jsxs)(k,{type:"secondary",style:{fontSize:12},children:["\uD83D\uDCA1 DevTools Features:",(0,l.jsx)("br",{}),"• Time-travel debugging",(0,l.jsx)("br",{}),"• Action history",(0,l.jsx)("br",{}),"• State diff view",(0,l.jsx)("br",{}),"• Auto-enabled in development"]}),(0,l.jsx)(d.A,{}),(0,l.jsx)(k,{type:"secondary",style:{fontSize:12},children:"\uD83D\uDCDD Configuration:"}),(0,l.jsx)("pre",{style:{background:"#f5f5f5",padding:8,borderRadius:4,fontSize:11},children:`// Auto-enabled in dev (default)
useGlobalState('key', initialState);

// Explicitly enable
useGlobalState('key', initialState, {
  enableDevtools: true
});

// Disable in dev
useGlobalState('key', initialState, {
  enableDevtools: false
});`})]})})};r.createRoot(document.getElementById("root")).render((0,l.jsx)(()=>{let[e,t]=(0,n.useState)(!0);return(0,l.jsxs)("div",{className:"use-global-state-example",children:[(0,l.jsx)(A,{level:2,children:"基于 Zustand 的全局状态共享"}),(0,l.jsx)(A,{level:3,children:"1. Simple Value - useGlobalState"}),(0,l.jsxs)(C,{children:[(0,l.jsx)(k,{code:!0,children:"const [count, setCount, resetCount] = useGlobalState('counter', 0)"})," ","- 适用于简单值类型"]}),(0,l.jsxs)("div",{className:"use-global-state-example__row",children:[(0,l.jsx)(_,{}),(0,l.jsx)(w,{}),e&&(0,l.jsx)(I,{})]}),(0,l.jsx)(x.A,{items:[{key:"1",label:"查看代码示例",children:(0,l.jsx)("pre",{style:{background:"#f5f5f5",padding:16,borderRadius:4,fontSize:12,margin:0,overflow:"auto"},children:`const [count, setCount, resetCount] = useGlobalState('counter', 0);

// 直接赋值
setCount(5);

// 函数式更新
setCount(prev => prev + 1);

// 重置到初始值
resetCount();`})}],style:{marginTop:16}}),(0,l.jsx)(d.A,{style:{margin:"32px 0"}}),(0,l.jsx)(A,{level:3,children:"2. Object State - useGlobalState"}),(0,l.jsxs)(C,{children:[(0,l.jsxs)(k,{code:!0,children:["const [user, setUser, resetUser] = useGlobalState('user', ","{ }",")"]})," ","- 支持对象类型和部分更新"]}),(0,l.jsxs)("div",{className:"use-global-state-example__row",children:[(0,l.jsx)(z,{}),(0,l.jsx)(T,{})]}),(0,l.jsx)(x.A,{items:[{key:"1",label:"查看代码示例",children:(0,l.jsx)("pre",{style:{background:"#f5f5f5",padding:16,borderRadius:4,fontSize:12,margin:0,overflow:"auto"},children:`const [user, setUser, resetUser] = useGlobalState('user', {
  name: 'John',
  email: 'john@example.com',
  age: 30
});

// 部分更新 - 只更新 name 字段
setUser({ name: 'Jane' });

// 函数式更新
setUser(prev => ({ ...prev, age: prev.age + 1 }));

// 重置到初始值
resetUser();`})}],style:{marginTop:16}}),(0,l.jsx)(d.A,{style:{margin:"32px 0"}}),(0,l.jsx)(A,{level:3,children:"3. Performance Optimization"}),(0,l.jsxs)(C,{children:[(0,l.jsx)(k,{strong:!0,children:"优化重渲染："}),"使用 ",(0,l.jsx)(k,{code:!0,children:"useGlobalSelector"})," ","和 ",(0,l.jsx)(k,{code:!0,children:"useGlobalSetter"})," ","减少不必要的组件重渲染，支持浅比较优化"]}),(0,l.jsx)(o.A,{style:{marginBottom:16},children:(0,l.jsx)(k,{type:"secondary",children:"观察 Render Count - 优化组件不会因为无关状态变化而重渲染"})}),e&&(0,l.jsxs)("div",{className:"use-global-state-example__row",children:[(0,l.jsx)(G,{}),(0,l.jsx)(I,{}),(0,l.jsx)(L,{})]}),e&&(0,l.jsx)(x.A,{items:[{key:"1",label:"查看代码示例",children:(0,l.jsx)("pre",{style:{background:"#f5f5f5",padding:16,borderRadius:4,fontSize:12,margin:0,overflow:"auto"},children:`// useGlobalSelector - 细粒度订阅
const userName = useGlobalSelector('user', state => state.name);
// 只有 name 变化时才重渲染

// 自动浅比较 - 对象返回值
const userInfo = useGlobalSelector('user', state => ({
  name: state.name,
  email: state.email
}));
// 自动检测对象类型并使用浅比较

// useGlobalSetter - 只写模式
const setCount = useGlobalSetter<number>('counter');
setCount(prev => prev + 1);
// 此组件不会因为 count 变化而重渲染`})}],style:{marginTop:16}}),(0,l.jsx)(d.A,{style:{margin:"32px 0"}}),(0,l.jsx)(A,{level:3,children:"4. Redux DevTools Integration"}),(0,l.jsxs)(C,{children:[(0,l.jsx)(k,{strong:!0,children:"开发者工具："}),"开发环境自动集成 Redux DevTools，支持时间旅行调试"]}),(0,l.jsx)("div",{className:"use-global-state-example__row",children:(0,l.jsx)($,{})}),(0,l.jsx)(x.A,{items:[{key:"1",label:"查看代码示例",children:(0,l.jsx)("pre",{style:{background:"#f5f5f5",padding:16,borderRadius:4,fontSize:12,margin:0,overflow:"auto"},children:`// 开发环境自动启用 DevTools（默认）
const [data, setData] = useGlobalState('data', { count: 0 });

// 禁用 DevTools
const [privateData, setPrivateData] = useGlobalState('private', {}, {
  enableDevtools: false
});

// 强制启用 DevTools（生产环境）
const [debugData, setDebugData] = useGlobalState('debug', {}, {
  enableDevtools: true
});

// 在 Redux DevTools 中显示为: GlobalState:data`})}],style:{marginTop:16}}),(0,l.jsx)(d.A,{style:{margin:"32px 0"}}),(0,l.jsx)(A,{level:3,children:"5. Persistent State - localStorage & sessionStorage"}),(0,l.jsxs)(C,{children:[(0,l.jsx)(k,{strong:!0,children:"数据持久化："}),"使用 ",(0,l.jsx)(k,{code:!0,children:"storage"})," ","选项实现跨页面刷新的状态保存"]}),(0,l.jsxs)("div",{className:"use-global-state-example__row",children:[(0,l.jsx)(V,{}),(0,l.jsx)(P,{})]}),(0,l.jsx)(x.A,{items:[{key:"1",label:"查看代码示例",children:(0,l.jsx)("pre",{style:{background:"#f5f5f5",padding:16,borderRadius:4,fontSize:12,margin:0,overflow:"auto"},children:`// localStorage - 持久化存储
const [settings, setSettings] = useGlobalState(
  'settings',
  { theme: 'dark', lang: 'en' },
  { storage: 'localStorage', storageKey: 'my-app' }
);

// sessionStorage - 会话存储
const [tempData, setTempData] = useGlobalState(
  'temp',
  { count: 0 },
  { storage: 'sessionStorage' }
);

// 状态会自动保存到 storage，刷新页面后自动恢复`})}],style:{marginTop:16}}),(0,l.jsx)(d.A,{style:{margin:"32px 0"}}),(0,l.jsx)(A,{level:3,children:"6. Shopping Cart Example"}),(0,l.jsx)(C,{children:"实际场景示例：购物车状态在商品列表和购物车组件间共享"}),(0,l.jsxs)("div",{className:"use-global-state-example__row",children:[(0,l.jsx)(N,{}),(0,l.jsx)(D,{})]}),(0,l.jsx)(x.A,{items:[{key:"1",label:"查看代码示例",children:(0,l.jsx)("pre",{style:{background:"#f5f5f5",padding:16,borderRadius:4,fontSize:12,margin:0,overflow:"auto"},children:`const [cart, setCart] = useGlobalState<CartItem[]>('cart', []);

// 添加商品到购物车
const addToCart = (product: Product) => {
  setCart(prev => {
    const existing = prev.find(item => item.id === product.id);
    if (existing) {
      return prev.map(item =>
        item.id === product.id
          ? { ...item, quantity: item.quantity + 1 }
          : item
      );
    }
    return [...prev, { ...product, quantity: 1 }];
  });
};

// 多个组件共享购物车状态`})}],style:{marginTop:16}}),(0,l.jsx)(d.A,{style:{margin:"32px 0"}}),(0,l.jsx)(A,{level:3,children:"7. Non-React Usage - Pure JavaScript/TypeScript"}),(0,l.jsxs)(C,{children:[(0,l.jsx)(k,{strong:!0,children:"在非 React 代码中使用："}),"工具函数、服务类、事件监听器、定时器等场景"]}),(0,l.jsxs)("div",{className:"use-global-state-example__row",children:[(0,l.jsx)(U,{}),(0,l.jsx)(E,{})]})]})},{}))}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var s=a[e]={exports:{}};return i[e](s,s.exports,o),s.exports}o.m=i,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(s,l){if(1&l&&(s=this(s)),8&l||"object"==typeof s&&s&&(4&l&&s.__esModule||16&l&&"function"==typeof s.then))return s;var n=Object.create(null);o.r(n);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&l&&s;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>{r[e]=()=>s[e]});return r.default=()=>s,o.d(n,r),n},o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s=[],o.O=(e,t,l,n)=>{if(t){n=n||0;for(var r=s.length;r>0&&s[r-1][2]>n;r--)s[r]=s[r-1];s[r]=[t,l,n];return}for(var i=1/0,r=0;r<s.length;r++){for(var[t,l,n]=s[r],a=!0,c=0;c<t.length;c++)(!1&n||i>=n)&&Object.keys(o.O).every(e=>o.O[e](t[c]))?t.splice(c--,1):(a=!1,n<i&&(i=n));if(a){s.splice(r--,1);var d=l();void 0!==d&&(e=d)}}return e},l={410:0},o.O.j=e=>0===l[e],n=(e,t)=>{var s,n,[r,i,a]=t,c=0;if(r.some(e=>0!==l[e])){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(a)var d=a(o)}for(e&&e(t);c<r.length;c++)n=r[c],o.o(l,n)&&l[n]&&l[n][0](),l[n]=0;return o.O(d)},(r=self.webpackChunkzustand_kit=self.webpackChunkzustand_kit||[]).forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r));var c=o.O(void 0,["783","234"],()=>o(7926));c=o.O(c)})();